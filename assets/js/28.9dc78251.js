(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{309:function(v,_,e){"use strict";e.r(_);var l=e(14),t=Object(l.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"nexttick"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nexttick"}},[v._v("#")]),v._v(" nextTick")]),v._v(" "),_("blockquote",[_("p",[v._v("源码位置：vue\\src\\core\\util\\next-tick.ts")])]),v._v(" "),_("h2",{attrs:{id:"_1-流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-流程"}},[v._v("#")]),v._v(" 1. 流程")]),v._v(" "),_("ol",[_("li",[v._v("初始化数据和方法\n"),_("ul",[_("li",[v._v("callbacks：保存所有回调函数的数组")]),v._v(" "),_("li",[v._v("flushCallbacks()：拷贝一份 "),_("code",[v._v("callbacks")]),v._v(" 执行所有回调")]),v._v(" "),_("li",[v._v("timerFunc()：将 "),_("code",[v._v("flushCallbacks")]),v._v(" 添加到任务队列")])])]),v._v(" "),_("li",[v._v("判断浏览器 "),_("code",[v._v("API")]),v._v(" 支持程度\n"),_("ol",[_("li",[v._v("是否支持 "),_("code",[v._v("Promise")]),v._v("（微任务）")]),v._v(" "),_("li",[v._v("是否支持 "),_("code",[v._v("MutationObserver")]),v._v("（微任务）")]),v._v(" "),_("li",[v._v("是否支持 "),_("code",[v._v("setImmediate")]),v._v("（宏任务）")]),v._v(" "),_("li",[v._v("是否支持 "),_("code",[v._v("setTimeout")]),v._v("（宏任务）")])])]),v._v(" "),_("li",[v._v("定义 "),_("code",[v._v("nextTick")]),v._v("函数\n"),_("ol",[_("li",[v._v("通过何种方式调用\n"),_("ul",[_("li",[v._v("如果传递回调\n"),_("ul",[_("li",[v._v("将回调 "),_("code",[v._v("push")]),v._v(" 进 "),_("code",[v._v("callbacks")])]),v._v(" "),_("li",[v._v("第一次调用 "),_("code",[v._v("nextTick")]),v._v(" 会将所有的回调添加到任务队列")])])]),v._v(" "),_("li",[v._v("如果通过 Promise 调用，没有传递回调\n"),_("ul",[_("li",[v._v("返回一个成功的 "),_("code",[v._v("Promise")])])])])])])])])])])}),[],!1,null,null,null);_.default=t.exports}}]);